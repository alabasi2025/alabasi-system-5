# ๐ ุฏููู ูุธุงู ุงูุนุจุงุณู ุฑูู 5 - ุงููุธุงู ุงููุญุงุณุจู ุงููุชูุงูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

**ูุธุงู ุงูุนุจุงุณู ุฑูู 5** ูู ูุธุงู ูุญุงุณุจู ูุชูุงูู ูุฐูู ูุฌูุน ุจูู ุงููุญุงุณุจุฉ ุงูุชูููุฏูุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ูุตูู ูุฅุฏุงุฑุฉ ุฌููุน ุงูุนูููุงุช ุงููุญุงุณุจูุฉ ุจููุงุกุฉ ุนุงููุฉ.

### โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

- ๐ค **ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู**: ููู ุงูุฃูุงูุฑ ุจุงูุนุฑุจูุฉ ูุฅูุดุงุก ุงููููุฏ ูุงูุณูุฏุงุช ุชููุงุฆูุงู
- ๐ **ุชูุงุฑูุฑ ูุงููุฉ ุดุงููุฉ**: ููุฒุงู ุงููุฑุงุฌุนุฉุ ูุงุฆูุฉ ุงูุฏุฎูุ ุงููุฑูุฒ ุงููุงููุ ูุดู ุงูุญุณุงุจ
- ๐ฐ **ุฅุฏุงุฑุฉ ูุงููุฉ ููุณูุฏุงุช**: ุณูุฏุงุช ุงููุจุถ ูุงูุตุฑู ูุน ุฑูุน ุงูุตูุฑ
- ๐ **ุฏููู ุญุณุงุจุงุช ูุชูุฏู**: ุดุฌุฑุฉ ูุฑููุฉ ูุน ุญุณุงุจุงุช ุฑุฆูุณูุฉ ููุฑุนูุฉ
- ๐ฆ **ุญุณุงุจุงุช ุชุญููููุฉ**: ุตูุงุฏููุ ุจูููุ ุตุฑุงูููุ ุนููุงุกุ ููุฑุฏูู
- ๐ **ูููุฏ ููููุฉ ุฐููุฉ**: ูุน ุงูุชุญูู ุงูุชููุงุฆู ูู ุงูุชูุงุฒู
- ๐ค **ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ**: Excel ู PDF
- ๐ **ูุธุงู ุตูุงุญูุงุช ูุชูุฏู**: ุฃุฏูุงุฑ ูุตูุงุญูุงุช ูุฎุตุตุฉ
- ๐ **PWA ุฌุงูุฒ**: ูุนูู ูุชุทุจูู ุนูู ุงูููุงุชู ูุงูุฃุฌูุฒุฉ ุงูููุญูุฉ
- ๐ **ุชุญุฏูุซุงุช ุชููุงุฆูุฉ**: ูุธุงู ุชุซุจูุช ุฐูู ูู Windows

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### Frontend
- **React 19** + **TypeScript**
- **TanStack Router** ููุชููู
- **TailwindCSS 4** ููุชุตููู
- **shadcn/ui** ููููููุงุช
- **tRPC** ููุงุชุตุงู ุจุงูู Backend

### Backend
- **Express 4** + **tRPC 11**
- **Drizzle ORM** ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **MySQL/TiDB** ููุงุนุฏุฉ ุจูุงูุงุช
- **Manus AI (invokeLLM)** ููุฐูุงุก ุงูุงุตุทูุงุนู

### ุงูููุฒุงุช ุงูุฅุถุงููุฉ
- **Service Worker** ููุนูู ุจุฏูู ุฅูุชุฑูุช
- **Push Notifications** ููุฅุดุนุงุฑุงุช
- **Universal Installer System** ููุชุซุจูุช ุนูู Windows

---

## ๐ฆ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ (18 ุฌุฏูู)

#### 1. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
- `users` - ุงููุณุชุฎุฏููู
- `roles` - ุงูุฃุฏูุงุฑ
- `permissions` - ุงูุตูุงุญูุงุช
- `userRoles` - ุฑุจุท ุงููุณุชุฎุฏููู ุจุงูุฃุฏูุงุฑ

#### 2. ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ
- `currencies` - ุงูุนููุงุช (ุฑูุงูุ ุฏููุงุฑุ ููุฑู)
- `branches` - ุงููุฑูุน
- `units` - ุงููุญุฏุงุช
- `organizations` - ุงููุคุณุณุงุช

#### 3. ุงููุญุงุณุจุฉ ุงูุฃุณุงุณูุฉ
- `accountCategories` - ุชุตูููุงุช ุงูุญุณุงุจุงุช
- `chartOfAccounts` - ุฏููู ุงูุญุณุงุจุงุช ุงูุฑุฆูุณูุฉ
- `accountCurrencies` - ุงูุนููุงุช ุงูููุถูุฉ ููุญุณุงุจุงุช
- `analyticalAccountTypes` - ุฃููุงุน ุงูุญุณุงุจุงุช ุงูุชุญููููุฉ
- `analyticalAccounts` - ุงูุญุณุงุจุงุช ุงูุชุญููููุฉ
- `clearingAccounts` - ุงูุญุณุงุจุงุช ุงููุณูุทุฉ

#### 4. ุงูุนูููุงุช ุงููุญุงุณุจูุฉ
- `vouchers` - ุณูุฏุงุช ุงููุจุถ ูุงูุตุฑู
- `journalEntries` - ุงููููุฏ ุงูููููุฉ
- `journalEntryLines` - ุฃุณุทุฑ ุงููููุฏ ุงูููููุฉ

#### 5. ุงูุฃูุธูุฉ ุงูุฅุถุงููุฉ
- `employees` - ุงูููุธููู
- `inventory` - ุงููุฎุฒูู
- `assets` - ุงูุฃุตูู ุงูุซุงุจุชุฉ

#### 6. ุงูุฐูุงุก ุงูุงุตุทูุงุนู
- `aiConversations` - ุณุฌู ุงููุญุงุฏุซุงุช
- `learned_patterns` - ุงูุฃููุงุท ุงููุชุนููุฉ
- `command_history` - ุณุฌู ุงูุฃูุงูุฑ

---

## ๐ APIs ุงูุฑุฆูุณูุฉ

### 1. Dashboard
```typescript
dashboard.stats({ branchId?: number })
```
ุฅุญุตุงุฆูุงุช ุงูุณูููุฉุ ุงูุฅูุฑุงุฏุงุชุ ุงููุตุฑููุงุชุ ุงูุฑุจุญ

### 2. ุฏููู ุงูุญุณุงุจุงุช
```typescript
chartOfAccounts.list()
chartOfAccounts.create({ code, nameAr, nameEn, categoryId, parentId })
chartOfAccounts.update({ id, ...data })
chartOfAccounts.delete(id)
```

### 3. ุงูุญุณุงุจุงุช ุงูุชุญููููุฉ
```typescript
analyticalAccounts.list({ typeId?, branchId? })
analyticalAccounts.create({ code, nameAr, accountId, typeId })
```

### 4. ุงูุณูุฏุงุช
```typescript
vouchers.list({ type?, branchId?, startDate?, endDate? })
vouchers.create({ type, amount, currencyId, fromAccountId, toAccountId })
```

### 5. ุงููููุฏ ุงูููููุฉ
```typescript
journalEntries.list()
journalEntries.create({ entryData, lines[] })
journalEntries.getById(id)
```

### 6. ุงูุชูุงุฑูุฑ ุงููุงููุฉ
```typescript
reports.trialBalance({ branchId?, startDate?, endDate? })
reports.balanceSheet({ branchId?, date? })
reports.incomeStatement({ branchId?, startDate?, endDate? })
reports.accountStatement({ accountId, startDate?, endDate? })
reports.generalLedger({ branchId?, startDate?, endDate? })
```

### 7. ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ
```typescript
reports.exportTrialBalance({ branchId?, startDate?, endDate? })
reports.exportAccountStatement({ accountId, startDate?, endDate? })
```

### 8. ุงูุฐูุงุก ุงูุงุตุทูุงุนู
```typescript
ai.processCommand({ message })
ai.chat({ message })
ai.executeAction({ action, data })
ai.conversations()
```

### 9. ุงูุตูุงุญูุงุช
```typescript
// ูู db.ts
checkPermission(userId, resource, action)
assignRoleToUser(userId, roleId, assignedBy)
```

---

## ๐ค ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู

### ุงูุฃูุงูุฑ ุงููุฏุนููุฉ

#### 1. ุฅูุดุงุก ููุฏ ูููู
```
"ุณุฌู ููุฏ: ูุฏูู ุญุณุงุจ 1001 ุจูุจูุบ 5000 ูุฏุงุฆู ุญุณุงุจ 2001 ุจูุจูุบ 5000 ุจูุงู: ุดุฑุงุก ุจุถุงุนุฉ"
```

#### 2. ุฅูุดุงุก ุณูุฏ ูุจุถ
```
"ุณุฌู ุณูุฏ ูุจุถ ูู ุงูุนููู ุฃุญูุฏ ุจูุจูุบ 10000 ุฑูุงู"
```

#### 3. ุฅูุดุงุก ุณูุฏ ุตุฑู
```
"ุณุฌู ุณูุฏ ุตุฑู ููููุฑุฏ ูุญูุฏ ุจูุจูุบ 7500 ุฑูุงู"
```

#### 4. ุงุณุชุนูุงู ุนู ุฑุตูุฏ
```
"ูุง ูู ุฑุตูุฏ ุญุณุงุจ ุงูุตูุฏููุ"
```

#### 5. ุทูุจ ุชูุฑูุฑ
```
"ุฃุนุทูู ููุฒุงู ุงููุฑุงุฌุนุฉ ููุฐุง ุงูุดูุฑ"
```

### ุขููุฉ ุงูุนูู

1. **ูุนุงูุฌุฉ ุงูุฃูุฑ**: `ai-processor.ts` ูุญูู ุงูุฃูุฑ ุจุงุณุชุฎุฏุงู `invokeLLM`
2. **ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช**: JSON Schema ููุธู ูุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช
3. **ุงูุชูููุฐ**: `ai-executor.ts` ูููุฐ ุงูุฅุฌุฑุงุก ุงููุทููุจ
4. **ุงูุญูุธ**: ุชุณุฌูู ุงููุญุงุฏุซุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ฑ ูุธุงู ุงูุชุซุจูุช ุงูุฐูู (Universal Installer)

### ุงูููููุงุช (7 ูููุงุช PowerShell)

1. **Install-AccountingSystem.ps1** - ุงููุซุจุช ุงูุฑุฆูุณู
2. **Error-Reporter.ps1** - ุฅุจูุงุบ ุฐูู ุนู ุงูุฃุฎุทุงุก
3. **Auto-Updater.ps1** - ุชุญุฏูุซุงุช ุชููุงุฆูุฉ ูู GitHub
4. **Service-Manager.ps1** - ุฅุฏุงุฑุฉ ุฎุฏูุฉ Windows
5. **GitHub-Integration.ps1** - ุงูุชูุงูู ูุน GitHub
6. **Requirements-Checker.ps1** - ูุญุต ุงููุชุทูุจุงุช
7. **Database-Manager.ps1** - ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุชุซุจูุช ุจููุฑุฉ ูุงุญุฏุฉ

```powershell
# ุชุซุจูุช ุงููุธุงู
.\Install.bat

# ุชุญุฏูุซ ุงููุธุงู
.\Update.bat
```

---

## ๐จ ุงููุงุฌูุงุช (15 ุตูุญุฉ)

1. **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ** - Dashboard ูุน 7 ุฃูุณุงู ุฑุฆูุณูุฉ
2. **ุฏููู ุงูุญุณุงุจุงุช** - ุดุฌุฑุฉ ูุฑููุฉ ุชูุงุนููุฉ
3. **ุงูุตูุงุฏูู ูุงูุจููู** - ุงูุญุณุงุจุงุช ุงูุชุญููููุฉ
4. **ุงููุญุฏุงุช ูุงููุฑูุน** - ุฅุฏุงุฑุฉ ุงููุญุฏุงุช ูุงููุฑูุน
5. **ุงููููุฏ ุงูููููุฉ** - ุฅูุดุงุก ูููุฏ ูุชุนุฏุฏุฉ ุงูุฃุทุฑุงู
6. **ุณูุฏุงุช ุงููุจุถ** - ูุน ุฑูุน ุงูุตูุฑ
7. **ุณูุฏุงุช ุงูุตุฑู** - ูุน ุฑูุน ุงูุตูุฑ
8. **ููุฒุงู ุงููุฑุงุฌุนุฉ** - ูุน ุชุตุฏูุฑ Excel
9. **ูุงุฆูุฉ ุงููุฑูุฒ ุงููุงูู** - ุงูุฃุตูู ูุงูุฎุตูู
10. **ูุงุฆูุฉ ุงูุฏุฎู** - ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช
11. **ูุดู ุงูุญุณุงุจ** - ุญุฑูุฉ ุญุณุงุจ ูุญุฏุฏ
12. **ุฏูุชุฑ ุงูุฃุณุชุงุฐ** - ุฌููุน ุงูุญุณุงุจุงุช
13. **ุงููุณุงุนุฏ ุงูุฐูู** - ูุงุฌูุฉ ูุญุงุฏุซุฉ AI
14. **ุงููุฎุฒูู** - ุฅุฏุงุฑุฉ ุงููุฎุฒูู
15. **ุงูููุธููู** - ุฅุฏุงุฑุฉ ุงูููุธููู

---

## ๐ ูุธุงู ุงูุตูุงุญูุงุช

### ุงูููุงุฑุฏ ุงููุญููุฉ

- `journal_entries` - ุงููููุฏ ุงูููููุฉ
- `vouchers` - ุงูุณูุฏุงุช
- `reports` - ุงูุชูุงุฑูุฑ
- `chart_of_accounts` - ุฏููู ุงูุญุณุงุจุงุช
- `analytical_accounts` - ุงูุญุณุงุจุงุช ุงูุชุญููููุฉ
- `employees` - ุงูููุธููู
- `inventory` - ุงููุฎุฒูู
- `assets` - ุงูุฃุตูู

### ุงูุฅุฌุฑุงุกุงุช

- `view` - ุนุฑุถ
- `create` - ุฅูุดุงุก
- `edit` - ุชุนุฏูู
- `delete` - ุญุฐู
- `export` - ุชุตุฏูุฑ

### ูุซุงู ุนูู ุงูุชุญูู ูู ุงูุตูุงุญูุฉ

```typescript
const canCreateJournal = await checkPermission(
  userId, 
  "journal_entries", 
  "create"
);
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงููุคุดุฑุงุช

### ุงูุจุทุงูุงุช ุงููุงููุฉ ุงูุฑุฆูุณูุฉ

1. **ุงูุณูููุฉ**: ูุฌููุน ุงูุตูุงุฏูู ูุงูุจููู
2. **ุงูุฅูุฑุงุฏุงุช**: ูุฌููุน ุณูุฏุงุช ุงููุจุถ
3. **ุงููุตุฑููุงุช**: ูุฌููุน ุณูุฏุงุช ุงูุตุฑู
4. **ุตุงูู ุงูุฑุจุญ**: ุงูุฅูุฑุงุฏุงุช - ุงููุตุฑููุงุช

### ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ

- **ููุฒุงู ุงููุฑุงุฌุนุฉ**: ุฌููุน ุงูุญุณุงุจุงุช ูุน ุงููุฏูู ูุงูุฏุงุฆู
- **ูุงุฆูุฉ ุงูุฏุฎู**: ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ูุตุงูู ุงูุฑุจุญ
- **ูุงุฆูุฉ ุงููุฑูุฒ ุงููุงูู**: ุงูุฃุตูู ูุงูุฎุตูู ูุญููู ุงูููููุฉ
- **ูุดู ุงูุญุณุงุจ**: ุญุฑูุฉ ุญุณุงุจ ูุญุฏุฏ ูุน ุงูุฑุตูุฏ
- **ุฏูุชุฑ ุงูุฃุณุชุงุฐ**: ุฌููุน ุงููููุฏ ูุฌููุน ุงูุญุณุงุจุงุช

---

## ๐ ุณูุฑ ุงูุนูู ุงููููุฐุฌู

### 1. ุฅุนุฏุงุฏ ุงููุธุงู
```
1. ุชุซุจูุช ุงููุธุงู ุจุงุณุชุฎุฏุงู Install.bat
2. ุฅูุดุงุก ุงููุณุชุฎุฏููู ูุชุนููู ุงูุฃุฏูุงุฑ
3. ุฅุถุงูุฉ ุงููุฑูุน ูุงูุนููุงุช
4. ุจูุงุก ุฏููู ุงูุญุณุงุจุงุช
```

### 2. ุงูุนูููุงุช ุงูููููุฉ
```
1. ุฅูุดุงุก ุณูุฏุงุช ุงููุจุถ ูุงูุตุฑู
2. ุชุณุฌูู ุงููููุฏ ุงูููููุฉ
3. ุงุณุชุฎุฏุงู ุงููุณุงุนุฏ ุงูุฐูู ููุนูููุงุช ุงูุณุฑูุนุฉ
4. ูุฑุงุฌุนุฉ ุงูุฅุญุตุงุฆูุงุช ุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

### 3. ุงูุชูุงุฑูุฑ ุงูุดูุฑูุฉ
```
1. ุงุณุชุฎุฑุงุฌ ููุฒุงู ุงููุฑุงุฌุนุฉ
2. ุฅุนุฏุงุฏ ูุงุฆูุฉ ุงูุฏุฎู
3. ุฅุนุฏุงุฏ ูุงุฆูุฉ ุงููุฑูุฒ ุงููุงูู
4. ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ุฅูู Excel
```

---

## ๐๏ธ ุงูุชุทููุฑ ูุงูุตูุงูุฉ

### ุชุดุบูู ุงููุดุฑูุน ูุญููุงู

```bash
# ุชุซุจูุช ุงูููุชุจุงุช
pnpm install

# ุชุทุจูู ุงูุชุบููุฑุงุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
pnpm db:push

# ุชุดุบูู ุงูุฎุงุฏู
pnpm dev
```

### ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ

1. ุชุญุฏูุซ `drizzle/schema.ts` ุฅุฐุง ูุฒู ุงูุฃูุฑ
2. ุฅุถุงูุฉ ุฏูุงู ูู `server/db.ts`
3. ุฅุถุงูุฉ procedures ูู `server/routers.ts`
4. ุจูุงุก ุงููุงุฌูุฉ ูู `client/src/pages/`
5. ุชุญุฏูุซ `todo.md`

### ุญูุธ Checkpoint

```bash
# ุนุจุฑ webdev_save_checkpoint
# ุฃู ุนุจุฑ Git ูุจุงุดุฑุฉ
git add .
git commit -m "ูุตู ุงูุชุญุฏูุซ"
git push origin main
```

---

## ๐ ุงูููุงุญุธุงุช ุงููุงูุฉ

### ุงูุฃูุงู
- ุฌููุน APIs ูุญููุฉ ุจู `protectedProcedure`
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ (ุนุจุฑ Manus OAuth)

### ุงูุฃุฏุงุก
- ุงุณุชุฎุฏุงู Indexes ุนูู ุงูุฌุฏุงูู ุงููุจูุฑุฉ
- Lazy loading ููุตูุญุงุช
- Caching ููุจูุงูุงุช ุงูุซุงุจุชุฉ

### ุงูุชูุงูููุฉ
- ูุนูู ุนูู ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ
- PWA ุฌุงูุฒ ููููุงุชู
- Responsive Design ูุงูู

---

## ๐ฏ ุงูุฎุทุท ุงููุณุชูุจููุฉ

### ุงููุฑุญูุฉ ุงููุงุฏูุฉ
- [ ] ุฅุถุงูุฉ ูุธุงู ุงูููุงุชูุฑ ุงูุฅููุชุฑูููุฉ
- [ ] ุชูุงูู ูุน ุฃูุธูุฉ ุงูุฏูุน ุงูุฅููุชุฑููู
- [ ] ุชุทุจูู ุฌูุงู ุฃุตูู (React Native)
- [ ] ุชูุงุฑูุฑ ูุชูุฏูุฉ ูุน ุฑุณูู ุจูุงููุฉ
- [ ] ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู
- [ ] Multi-tenancy ููุดุฑูุงุช ุงููุชุนุฏุฏุฉ

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงูููุงุฑุฏ
- **GitHub**: https://github.com/alabasi2025/alabasi-system-5
- **ุงูุชูุซูู**: ูุฐุง ุงูููู
- **README**: README.md ูู ุงููุดุฑูุน

### ุงููุณุงููุฉ
ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู:
1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ููููุฒุฉ ุงูุฌุฏูุฏุฉ
3. Commit ุงูุชุบููุฑุงุช
4. Push ุฅูู Branch
5. ูุชุญ Pull Request

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุดุฎุตู ูุงูุชุฌุงุฑู.

---

**ุชู ุจูุงุก ูุฐุง ุงููุธุงู ุจููุงุกุฉ ุนุงููุฉ ูุญุจ ูููุญุงุณุจุฉ ูุงูุชูููููุฌูุง** โค๏ธ

**ูุธุงู ุงูุนุจุงุณู ุฑูู 5** - ุญูุซ ุชูุชูู ุงููุญุงุณุจุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ๐
